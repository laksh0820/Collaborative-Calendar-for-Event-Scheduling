{% extends 'base.html' %}

{% block extra_header %}
<!-- FullCalender JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>

<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/bootstrap5@6.1.15/index.global.min.js'></script>

<link rel="stylesheet" href="{{ url_for('static',filename='css/calendar.css') }}"/>
{% endblock %}

{% block content %}
	<div class="container mt-4">
		<div id="calendar"></div>
	</div>

	<div id='script-warning'>
		Error getting data from <code>/data</code> endpoint.
	</div>

	<div id='loading'>loading...</div>

	<!-- Bootstrap Modal -->
	<div class="modal fade" id="eventModal" tabindex="-1" role="dialog" aria-labelledby="eventModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="eventModalLabel">Add Event</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">	</button>
				</div>
				<div class="modal-body">
					<form id="eventForm">
						<div class="form-group">
							<label for="eventTitle">Event Title</label>
							<input type="text" class="form-control" id="eventTitle" required>
						</div>
						<div class="mb-3">
							<label for="message-text" class="col-form-label">Event Description</label>
							<textarea class="form-control" id="message-text"></textarea>
						  </div>
						<div class="form-group">
							<label for="eventStart">Start Time</label>
							<input type="datetime-local" class="form-control" id="eventStart" required>
						</div>
						<div class="form-group">
							<label for="eventEnd">End Time</label>
							<input type="datetime-local" class="form-control" id="eventEnd" required>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" id="saveEvent">Save Event</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="eventDetailModal" tabindex="-1">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="modalEventTitle"></h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body">
			  <p><strong>Start:</strong> <span id="modalEventStartDate"></span></p>
			  <p><strong>End:</strong> <span id="modalEventEndDate"></span></p>
			  <p><strong>Description:</strong></p>
			  <p id="modalEventDescription"></p>
			</div>
			<div class="modal-footer">
			  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		  </div>
		</div>
	</div>

	<script src="{{ url_for ('static',filename='js/calendar.js') }}"></script>
{% endblock %}